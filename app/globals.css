@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 26, 26, 38;
}

/* 1. NUCLEAR RESET */
* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html {
  height: 100%;
  width: 100%;
  -webkit-text-size-adjust: 100%;
  background-color: #2E1A20; /* Default to dark so load is dark */
}

body {
  min-height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden; /* No scrolling */
  overscroll-behavior: none;
  -webkit-font-smoothing: antialiased;
  background-color: transparent; /* Let the component dictate color */
}

/* Hide scrollbars */
::-webkit-scrollbar {
  width: 0px;
  background: transparent;
}

/* --- BUTTERFLY ENGINE --- */
.butterfly-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  perspective: 800px;
}

.butterfly {
  position: absolute;
  width: 35px;
  height: 35px;
  transform-style: preserve-3d;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  will-change: transform;
}

.butterfly::before, .butterfly::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23FFD1DC' fill-opacity='0.5' d='M64 192c0-88.4 89.6-160 200-160 22.1 0 43.1 2.8 62.8 8.1C258.1 63.3 207.6 137.9 192 224c-5.7 31.6-8.7 64.4-8.7 97.9 0 31 2.5 61.3 7.3 90.7C81.9 396.9 0 314.2 0 216c0-8.2.8-16.2 2.2-24.1C22.6 191.9 43.2 192 64 192zm224 320c0 0 0 0 0 0-3.3 0-6.6-.1-9.9-.2C274.5 470 264 423.4 264 374c0-37.1 5.9-72.9 16.8-106.3 12.8-39.2 33.3-75 59.7-105.7 4.9 29.7 7.5 60.1 7.5 91 0 88.4-71.6 160-160 160-2.8 0-5.6-.1-8.3-.2l-.1 3.2c0 88.4 89.6 160 200 160 30 0 58.7-5.3 85-15.1-47.5-12.7-88.9-39.2-118.6-74.9z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  animation: flap 0.25s infinite alternate ease-in-out;
}

.butterfly::after { transform-origin: left center; }
.butterfly::before { transform-origin: right center; transform: scaleX(-1); animation-delay: -0.1s; }

@keyframes flap {
  0% { transform: rotateY(10deg); opacity: 0.8; }
  100% { transform: rotateY(65deg); opacity: 0.5; }
}

@keyframes fly-up {
  0% { transform: translate3d(0, 110vh, 0) scale(0.6) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translate3d(20vw, -20vh, 0) scale(0.8) rotate(15deg); opacity: 0; }
}

@keyframes fly-left {
  0% { transform: translate3d(10vw, 110vh, 0) scale(0.6) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translate3d(-30vw, -20vh, 0) scale(0.8) rotate(-15deg); opacity: 0; }
}

.breathing-button { animation: breath 3s infinite ease-in-out; }
@keyframes breath {
  0%, 100% { transform: scale(1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
  50% { transform: scale(1.03); box-shadow: 0 10px 15px -3px rgba(230, 84, 115, 0.3), 0 4px 6px -2px rgba(230, 84, 115, 0.1); }
}
